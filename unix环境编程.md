内核

##### 内核的职责

- 进程调度
- 内存管理
- 文件系统
- 创建和终止进程
- 对设备的访问
- 联网
- 提供系统调用API接口

##### 用户态和核心态

​	CPU至少在两种不同状态下运行，用户态和核心态。执行硬件指令可使CPU在两种状态间来回切换。在用户态下运行时，CPU只能访问被标记为用户空间的内存，当运行于核心态时，CPU既能访问用户空间内存，也能访问内核空间内存。

​	仅当处理器在核心态运行时，才能执行某些特写操作（例：访问内存管理硬件，I/O操作等）。将操作置于内核空间，确保了用户进程不能访问内核指令和数据结构，也无法执行不利于系统运行的操作。

**以进程及内核视角检视系统**

​	内核是运行系统的中枢，知晓系统的一切，为系统上所有进程的运行提供便利。在内核维护的数据结构中，包含了所有正在运行的进程有关的信息。随着进程的创建、状态发生变化或终结，内核会及时更新这些数据结构。进程间的所有通信都要通过内核提供的通信机制来完成。响应进程发出的请求，内核会创建新的进程，终结现有进程。最后，由内核来执行与输入/输出设备之间的所有直接通信，按需与用户进程交互信息。

##### shell

​	shell是一种具有特殊用途的程序，主要用于读取用户输入的命令，并执行相应的程序以响应命令。

##### 用户和组

​	系统会对每个用户的身份做唯一标识，用户可属于多个组。

**用户**

​	唯一的登录名和ID，密码

- 组ID：用户所属的第一个组的整数型组ID。
- 主目录：用户登录后所处于的初始目录。
- 登录shell：执行以解释用户命令的程序名称。

**组**

​	将多个用户分组，

- 组名：（唯一）。
- 组ID（GID）：与组相关的整数型ID。
- 用户列表：属于该组的用户登录名列表。

**超级用户**

​	通常登录名为root，用户ID为0。超级用户可以访问系统中的任何文件，也能干预系统运行的所有用户的进程。

##### 单根目录层级、目录、链接及文件

​	内核维护着一套单根目录结构，放置系统的所有文件。根目录“/”。

**文件类型**

​	在文件系统中，会对文件类型进行标记，其中一种用来表示普通数据文件。其他文件类型包括设备、管道、套接字、目录及符号链接。

**路径和链接**

​	目录是一种特殊类型的文件，内容采用表格形式，数据项包括文件名及对相应文件的引用。每个文件都可以有多条链接，因此也可以有多个名称，在相同或不同的目录中出现。

​	每个目录至少包含两条记录：.和..，.表示目录自身的链接，..指向其上级目录。除根目录外，每个目录都有父目录。对于根目录，..指向根目录自身（..和.相同）。

**符号链接**

​	符号链接给文件起了个“别名”。符号链接是经过特殊标记的文件，也称为软链接。























