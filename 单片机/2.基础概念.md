# 基础概念

[TOC]



# 操作系统

操作系统（operating system，简称OS）是管理[计算机硬件](https://baike.baidu.com/item/计算机硬件/5459592)与[软件](https://baike.baidu.com/item/软件/12053)资源的[计算机程序](https://baike.baidu.com/item/计算机程序/3220205)。（**属于软件**）

操作系统需要处理如管理与配置[内存](https://baike.baidu.com/item/内存/103614)、决定[系统资源](https://baike.baidu.com/item/系统资源/974435)供需的优先次序、控制[输入设备](https://baike.baidu.com/item/输入设备/10823368)与[输出设备](https://baike.baidu.com/item/输出设备/10823333)、操作网络与管理文件系统等基本事务。操作系统也提供一个让用户与系统交互的操作界面。

# 内核

内核分为软件内核和硬件（cpu）内核

## 软件内核

内核是操作系统最基本的部分。它是为众多应用程序提供对计算机[硬件](https://baike.baidu.com/item/硬件)的安全访问的一部分[软件](https://baike.baidu.com/item/软件/12053)，这种访问是有限的，并且内核决定一个程序在什么时候对某部分硬件操作多长时间。

内核，是一个[操作系统](https://baike.baidu.com/item/操作系统)的核心。是基于硬件的第一层软件扩充，提供操作系统的最基本的功能，是操作系统工作的基础，它负责管理系统的进程、[内存](https://baike.baidu.com/item/内存)、设备[驱动](https://baike.baidu.com/item/驱动)程序、文件和[网络](https://baike.baidu.com/item/网络)系统，决定着系统的性能和稳定性。

现代[操作系统](https://baike.baidu.com/item/操作系统)设计中，为减少系统本身的开销，往往将一些与[硬件](https://baike.baidu.com/item/硬件)紧密相关的（如中断处理程序、[设备驱动程序](https://baike.baidu.com/item/设备驱动程序)等）、基本的、公共的、运行频率较高的模块（如时钟管理、[进程](https://baike.baidu.com/item/进程)调度等）以及[关键](https://baike.baidu.com/item/关键)性数据结构独立开来，使之常驻内存，并对他们进行保护。通常把这一部分称之为操作系统的[内核](https://baike.baidu.com/item/内核)。

一个内核不是一套完整的操作系统。一套基于Linux内核的完整操作系统叫作Linux操作系统，或是GNU/Linux。

## 硬件内核

CPU内核是CPU中间的**核心芯片**，由单晶硅制成，用来完成所有的计算、接受/存储命令、处理数据等，是数字处理核心。	

各种[CPU核心](https://baike.baidu.com/item/CPU核心/3030437)都具有固定的[逻辑结构](https://baike.baidu.com/item/逻辑结构/9663235)，[一级缓存](https://baike.baidu.com/item/一级缓存/333456)、[二级缓存](https://baike.baidu.com/item/二级缓存/520722)、执行单元、指令级单元和[总线接口](https://baike.baidu.com/item/总线接口/10929901)等[逻辑单元](https://baike.baidu.com/item/逻辑单元/1596619)都会有科学的布局。

内核的主要功能是执行我们编译后的bin文件，通过取指，译码，执行这样的三级流水线执行代码，若没有中断与异常，CPU一直顺序执行。但CPU很强大的功能之一就是有响应中断和异常的能力，通过规定好的异常向量表处理异常(比如复位，hard fault等)，通过规定好的中断向量表处理中断，中断的性能从一定程度上表示这款内核的性能。

# 架构和cpu内核



架构可以理解为一种逻辑结构，没有具体的实现

cpu内核是使用这种逻辑结构，用来满足不同的需求的具体实现。

比如说：
架构1：是**平房**的设计理念
内核1：是基于架构1的设计理念，加上具体的要求实现的款式（一室一厅）
内核2：是基于架构1的设计理念，加上具体的要求实现的款式（两室一厅）

架构2：是**高楼**的设计理念
内核1：是基于架构1的设计理念，加上具体的要求实现的款式（写字楼）
内核2：是基于架构1的设计理念，加上具体的要求实现的款式（东方明珠塔）



# cpu

cpu是central process unit的简称，是计算机的核心处理器。cpu的作用是运行机器语言指令。高级语言和汇编语言程序被编译成cpu能理解的机器语言（二级制代码）后，存入到内存中，cpu就会从内存中读取并执行这些指令序列，完成程序功能。
包括控制器、寄存器、运算器、时钟四个部分组成。
运算器是用来进行逻辑计算的，
寄存器是临时存放中间数据以及指令的；包括程序计数器、指令寄存器、数据寄存器、地址寄存器等。 寄存器是汇编语言所研究的对象，汇编语言通过对寄存器的控制（写入，读出，加），实现功能。程序计数器和内存的关系：程序计数器记录了当前执行的指令在内存中年存储的位置。
控制器是用来控制何时将内存的数据及指令读入寄存器，何时将寄存器中的值输出到内存。
时钟是同步各个部件之间的步调；

# 内存RAM

内存又叫主存，与cpu的寄存器链接，用于将数据以及指令输入到寄存器中；同时也可以接受寄存器的输出。本质是作为磁盘与寄存器的中间件，起到缓冲作用。断电后会丢失所有数据。
内存和磁盘的关系：由于磁盘的读写速度与cpu相差太大，如果cpu直接从磁盘中读取数据，会造成cpu计算能力极大的浪费。为了解决这个问题，在磁盘与cpu之间加一个内存，将磁盘存储的程序以及数据线读入内存中，cpu直接与内存打交道。此外，由于内存的空间比磁盘小很多，会出现内存不够用的情况，此时，会将一部分磁盘当做内存来使用，也就是虚拟内存。

# 磁盘**ROM**

 存放数据的，容量比内存大，速度慢。
 断电不会丢失数据。

# 指令

指令是控制cpu按照一定功能运算的机器码。每一种cpu有自己的一套指令集。

高级语言编写的程序最终也要编译成可以让cpu理解的一条条机器指令，才能被cpu执行。cpu除了可以计算数据以外，还可以控制硬件，方法是通过cpu寄存器与I/O端口进行数据交换。计算机中主机与外围硬件的链接方式是通过I/O端口进行的（端口是用于主机寄存器与外围设备交换数据时临时存储数据的寄存器）。所以，指令通过控制cpu的输出和输入位置，可以让cpu寄存器向I/O端口寄存器发送数据，外围设备通过与I/O寄存器交换数据，从而达到控制外围设备的效果。而操作系统的作用是封装一套指令序列，cpu通过执行这套指令序列，可以让硬件完成一系列动作。而应用程序如果需要对硬件进行操作，只需要将操作系统的这套指令序列复制到自己的程序中即可。复制这套指令的方式就是API（API就是操作系统留给应用程序的一个调用接口，应用程序通过调用操作系统的 API 而使操作系统去执行应用程序的命令。）。从这个角度来看，操作系统就是封装了控制硬件完成一系列动作的指令序列的集合，这套集合提供给应用程序以及计算机的使用者。从而达到了将人、应用程序与硬件隔离的效果。


# soc/mcu（未填充）



# 固件

固件(Firmware)就是写入EPROM（可擦写可编程只读存储器）或EEPROM(电可擦可编程只读存储器)中的**程序**。

固件是指设备内部保存的设备“[驱动程序](https://baike.baidu.com/item/驱动程序/103009)”，通过固件，[操作系统](https://baike.baidu.com/item/操作系统/192)才能按照标准的[设备驱动](https://baike.baidu.com/item/设备驱动/9764298)实现特定机器的运行动作。

固件是担任着一个系统最基础最底层工作的软件。而在硬件设备中，固件就是硬件设备的灵魂，因为一些硬件设备除了固件以外没有其它[软件](https://baike.baidu.com/item/软件/12053)组成，因此固件也就决定着硬件设备的功能及性能。

一般来说，担任着一个数码产品最基础、最底层工作的软件才可以称之为固件，比如[计算机主板](https://baike.baidu.com/item/计算机主板/8487636)上的基本输入/输出系统[BIOS](https://baike.baidu.com/item/BIOS)（Basic Input/output System)

通常这些硬件内所保存的程序是无法被用户直接读出或修改的。在以前，一般情况下是没有必要对固件进行升级操作的，即使在固件内发现了严重的Bug也必须由专业人员带着写好程序的芯片把原来机器上的更换下来。

早期固件芯片一般采用了ROM设计，它的Firmware代码是在生产过程中固化的，用任何手段都无法修改。随着技术的不断发展，修改固件以适应不断更新的硬件环境成了用户们的迫切要求，所以，可重复写入的可编程可擦除只读存储器EPROM（Erasable Programmable ROM)，EEPROM和flash出现了。这些芯片是可以重复刷写的，让固件得以修改和升级。

**对于独立可操作的电子产品**，固件一般指它的操作系统（“担任着一个数码产品最基础、最底层工作的软件才可以称之为固件”，这和**操作系统**的定义很一致）。比如PSP的固件，就是指PSP 的操作系统。同理，IPHONE的固件也是其操作系统，路由器的固件就是路由器的操作系统，MP4的固件就是MP4的操作系统等。

而对于非独立的电子产品，比如硬盘、鼠标、BIOS、光驱、U盘等设备，固件就是指其最底层的，让设备得以运行的程序代码。





















































































